--Date :2021-01-29
--Author : generated by FairyGUI
--Desc : 
local AwardView = require "Game.Modules.UIPublic_ReWard.AwardView"
local GodMarketResultView,Super = class("GodMarketResultView", AwardView)

function GodMarketResultView:ctor()
	--LuaLog("GodMarketResultView ctor")
	self._packName = "GodMarket"
	self._compName = "GodMarketResultView"
	--self._rootDepth = LayerDepth.Window
	
end

function GodMarketResultView:_initEvent( )
	
end

function GodMarketResultView:_initVM( )
	local viewNode = self.view
	---Do not modify following code--------
	--{autoFields}:GodMarket.GodMarketResultView
	self.awardList = viewNode:getChildAutoType('awardList')--skewRewardListV
		self.awardList.list_reward1 = viewNode:getChildAutoType('awardList/list_reward1')--GList
	self.event = viewNode:getController('event')--Controller
	self.tips = viewNode:getChildAutoType('tips')--GTextField
	self.tips1 = viewNode:getChildAutoType('tips1')--GRichTextField
	self.tips2 = viewNode:getChildAutoType('tips2')--GRichTextField
	--{autoFieldsEnd}:GodMarket.GodMarketResultView
	--Do not modify above code-------------
end

function GodMarketResultView:_initListener( )
	
end

function GodMarketResultView:_initUI( )
	self:_initVM()
	self:_initListener()
	Super._initUI(self)
	local data = self._args.data
	
	local eventId = data.eventId
	if eventId == 1 or eventId == 2 then
		if data.result then 
			self.tips1:setText(string.format(Desc.godmarket_desc22,data.contri or 0)) --godmarket_desc22="贡献值[color=#C55931]+%d[/color]"
			if eventId == 1 then
				self.tips2:setText(Desc.godmarket_desc23)  --godmarket_desc23="普通神土占有量[color=#C55931]+1[/color]，房间紫水晶产量提升"
			else
				self.tips2:setText(Desc.godmarket_desc24)  --godmarket_desc24="高级神土占有量[color=#C55931]+1[/color]，房间紫水晶产量提升"
			end
		end
	elseif eventId == 3 then
		self.tips1:setText(string.format(Desc.godmarket_desc25,data.dieHero or 0,data.contri or 0)) --godmarket_desc25="击败怪物[color=#C55931]%d[/color]只，获得贡献值[color=#C55931]+%d[/color]"
		if data.result then 
			self.tips2:setText(Desc.godmarket_desc26)  --godmarket_desc26="已通关该神灵塔，击败奖励通过邮件发送"
		end
	elseif eventId == 4 then
		self.tips1:setText(string.format(Desc.godmarket_desc27,data.persent or 0,data.contri or 0))  --godmarket_desc27="造成守卫最大生命值%s%%伤害，获得贡献值[color=#C55931]+%d[/color]"
		if data.result then 
			self.tips2:setText(Desc.godmarket_desc28) --godmarket_desc28="已击败守卫，击败奖励通过邮件发送"
		end
	elseif eventId == 5 then
		self.tips1:setText(string.format(Desc.godmarket_desc29,data.persent or 0,data.contri or 0)) --godmarket_desc29="造成BOSS最大生命值%s%%伤害，获得贡献值[color=#C55931]+%d[/color]"
		if data.result then 
			self.tips2:setText(Desc.godmarket_desc30)   --godmarket_desc30="已击败BOSS，可领取击败奖励"
		end
	end

end




return GodMarketResultView
