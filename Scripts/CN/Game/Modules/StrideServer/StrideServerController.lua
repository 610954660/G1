--Date :2020-12-27
--Author : generated by FairyGUI
--Desc : 

local StrideServerController = class("StrideServer",Controller)

function StrideServerController:init()
	
end

--通知状态变化
function StrideServerController:TopArena_NotifyActChange(_,params)
    StrideServerModel:setStateInfo( params.stateInfo)
    --根据状态重新请求数据
    local index = StrideServerModel:getMainSelectPage()
    if index == 1 then
        local curZoneId = StrideServerModel:getCurSelectZone()
        if (not curZoneId) or tonumber(curZoneId) <0 then
            curZoneId = 1
        end
        StrideServerModel:reqTopPanelInfo(curZoneId)
    elseif index == 2 then
        local  zid = StrideServerModel:getCurGrearGroupId().zid --赛区ID
        local  sgid = StrideServerModel:getCurGrearGroupId().sgid --赛区ID
        if (not zid) or tonumber(zid) <0 then
            zid = 1
        end
        if (not sgid) or tonumber(sgid) <0 then
            sgid = 1
        end
        StrideServerModel:reqGetGrearUpgradeInfo(zid,sgid) --请求某一组的数据
    elseif index == 3 then
        local zid = StrideServerModel:getCurChampionCurArr().zid
        if (not zid) or tonumber(zid) <0 then
            zid = 1
        end
        StrideServerModel:reqGetChamptionPanelInfo(zid)
    else
        StrideServerModel:reqInfoData()
    end
end

return StrideServerController