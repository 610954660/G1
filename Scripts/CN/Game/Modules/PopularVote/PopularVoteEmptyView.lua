--Date :2021-01-15
--Author : generated by FairyGUI
--Desc : 

local PopularVoteEmptyView,Super = class("PopularVoteEmptyView", View)
local PopularVoteView = require "Game.Modules.PopularVote.PopularVoteView"
local PopularVoteBuyView = require "Game.Modules.PopularVote.PopularVoteBuyView"

function PopularVoteEmptyView:ctor()
	--LuaLog("PopularVoteEmptyView ctor")
	self._packName = "PopularVote"
	self._compName = "PopularVoteEmptyView"
	--self._rootDepth = LayerDepth.Window
	self.popularVoteView = false
	self.popularVoteBuyView = false
end

function PopularVoteEmptyView:_initEvent( )
	
end

function PopularVoteEmptyView:_initVM( )
	local viewNode = self.view
	---Do not modify following code--------
	--{autoFields}:PopularVote.PopularVoteEmptyView
	self.loderView = viewNode:getChildAutoType('loderView')--GLoader
	--{autoFieldsEnd}:PopularVote.PopularVoteEmptyView
	--Do not modify above code-------------
	
end

function PopularVoteEmptyView:_initUI( )
	self:_initVM()
	self:refreshView( )
end

function PopularVoteEmptyView:refreshView( )
	if not ModelManager.PopularVoteModel.isSaleTime then --投票期间
		if not self.popularVoteView then 
			self.popularVoteView = PopularVoteView.new({parent = self.view, data={}})
			self.popularVoteView:toCreate()
		else
			self.popularVoteView:setVisible(true)
		end
		if self.popularVoteBuyView then
			self.popularVoteBuyView.view:setVisible(false)
		end
	else --返场期间
		if not self.popularVoteBuyView then
			self.popularVoteBuyView = PopularVoteBuyView.new({parent = self.view, data={}})
			self.popularVoteBuyView:toCreate()
		else
			self.popularVoteBuyView.view:setVisible(true)
		end

		if self.popularVoteView then
			self.popularVoteView.view:setVisible(false)
		end
	end
end

function PopularVoteEmptyView:PopularVote_refreshView( )
	self:refreshView( )
end

return PopularVoteEmptyView