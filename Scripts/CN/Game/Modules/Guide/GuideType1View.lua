--Name : GuideType1View.lua
--Author : generated by FairyGUI
--Date : 2020-5-8
--Desc : 

local GuideType1View,Super = class("GuideType1View", View)

function GuideType1View:ctor()
	--LuaLog("GuideType1View ctor")
	self._packName = "Guide"
	self._compName = "GuideType1View"
	self._rootDepth = LayerDepth.Guide
	
end

function GuideType1View:_initEvent( )
	
end

function GuideType1View:_initVM( )
	local vmRoot = self
	local viewNode = self.view
	---Do not modify following code--------
	--{vmFields}:Guide.GuideType1View
		vmRoot.text1 = viewNode:getChildAutoType("$text1")--richtext
		vmRoot.imageBg = viewNode:getChildAutoType("$imageBg")--loader
	--{vmFieldsEnd}:Guide.GuideType1View
	--Do not modify above code-------------
end

function GuideType1View:_initUI( )
	self:_initVM()

end


function GuideType1View:doGuide( data )
	print(33,"doGuideType1")
	printTable(33,data)
	self.view:setVisible(true)
	self._parentWin.nextbt:setVisible(true)

	self.imageBg:setURL(data.image)
	local num = 1

	self.view:addClickListener(function()
			self:runNext()
			num = num + 1
			print(33,"click",num)
			self.view:removeClickListener()
		end,33)
	--self.GuideTpye1:addEventListener(FUIEventType.TouchBegin,function ()

	--num = num + 1
	--print(33,"click",num)
	--end)


	self.text1:setText(data.text)

end

function GuideType1View:runNext()
	
	if not self or tolua.isnull(self.view) then return end
	
	Dispatcher.dispatchEvent(EventType.guide_runNext)
end

return GuideType1View