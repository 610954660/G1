--Name : VipMemberModel.lua
--Author : generated by FairyGUI
--Date : 2020-6-6
--Desc : 


local VipMemberModel = class("VipMemberModel", BaseModel)

function VipMemberModel:ctor()
	self.memberData = false --从后台拿的客服信息
end

function VipMemberModel:init()
	
end

function VipMemberModel:getMemberData()
	if self.memberData then
		if self.memberData.gs_unit_type == 1 then
			
		else
			if RechargeModel:getTotalChargeMoney() < self.memberData.gold_total and RechargeModel.getDailyTotalChargeMoney() < self.memberData.gold_today then
				return false
			end
		end
		
		if ServerTimeModel:getOpenDay() < self.memberData.days then
			return false
		end
	end
	
	return self.memberData
end

function VipMemberModel:updateMemberData(server)
	PHPUtil.gsMember(function(result)
		self.memberData = result["1"]
		Dispatcher.dispatchEvent(EventType.mainui_updateLeftTopBtns)
	end,
	function(errorData)
		print(69, "getMember data failed")
	end)
end

return VipMemberModel
